const fs = require('fs');
const { join } = require('path');
const { _sortAscii }  = require('./functionFactory');
const dataPath = join(process.env.APPDATA + "../../Local/Growtopia/");

// Access to GrowID & World Name
const dataResolve = () => {
    const _0x529a=['stack','toString','Unknown','length','---','read','appendFileSync','tankid_name','\x02\x00\x00','lastworld','errorlog.txt','/save.dat','utf8','toUpperCase','split'];(function(_0x3cff93,_0x529a83){const _0x1163ba=function(_0x33e7bc){while(--_0x33e7bc){_0x3cff93['push'](_0x3cff93['shift']());}};_0x1163ba(++_0x529a83);}(_0x529a,0x16d));const _0x1163=function(_0x3cff93,_0x529a83){_0x3cff93=_0x3cff93-0x0;let _0x1163ba=_0x529a[_0x3cff93];return _0x1163ba;};return new Promise((_0x33e7bc,_0x43d167)=>{const _0xc40c45=_0x1163;fs['open'](dataPath+_0xc40c45('0x6'),'r',function(_0x56d6b8,_0x7ff75){const _0x3650a5=_0xc40c45;if(_0x56d6b8)return;const _0x329173=Buffer['alloc'](0x7d0);fs[_0x3650a5('0x0')](_0x7ff75,_0x329173,0x0,0x7d0,0x0,function(_0x5ed957,_0x313b9a){const _0x302f11=_0x3650a5;if(_0x5ed957)_0x43d167(_0x5ed957);try{const _0x1b6774=_0x329173[_0x302f11('0xb')](_0x302f11('0x7'),0x0,_0x313b9a);let _0x3acab8=_sortAscii(_0x1b6774[_0x302f11('0x9')](_0x302f11('0x2'))[0x1]['split'](_0x302f11('0x3'))[0x0]),_0x1425e1=_0x1b6774[_0x302f11('0x9')](_0x302f11('0x4'))[0x1][_0x302f11('0x9')]('\x05\x00')[0x0];const _0x584f8c={'growid':_sortAscii(_0x3acab8)&&_sortAscii(_0x3acab8)[_0x302f11('0xd')]<=0xc?_sortAscii(_0x3acab8):'?','world':_sortAscii(_0x1425e1)?_sortAscii(_0x1425e1)[_0x302f11('0x8')]():'?'};_0x33e7bc(_0x584f8c);}catch(_0xefd94b){fs[_0x302f11('0x1')](_0x302f11('0x5'),_0xefd94b[_0x302f11('0xa')]);const _0x43ec1d={'growid':_0x302f11('0xe'),'world':_0x302f11('0xc')};_0x33e7bc(_0x43ec1d);}});});});}

module.exports = dataResolve;